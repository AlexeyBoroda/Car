{% extends 'core/base.html' %}
{% load static %}
{% block content %}
<div class="container" style="max-width:900px; margin:0 auto; padding:32px 0;">
    <h1 style="font-size:2em; font-weight:700; margin-bottom:8px; text-align:center;">–£—Å–ª—É–≥–∏ –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–Ω–µ—Ä–∞: —Ä–æ—Å—Ç, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, —Ä–µ–∑—É–ª—å—Ç–∞—Ç</h1>
    <div style="font-size:1.2em; color:#2563eb; margin-bottom:18px; text-align:justify;">–†–∞–±–æ—Ç–∞—é —Å –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—è–º–∏, —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è–º–∏ –∏ –∫–æ–º–∞–Ω–¥–∞–º–∏. –ü–æ–º–æ–≥–∞—é –Ω–∞—Ö–æ–¥–∏—Ç—å —Ä–æ—Å—Ç–æ–≤—ã–µ —Ç–æ—á–∫–∏, —É—Å–∏–ª–∏–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –∏ –¥–æ—Å—Ç–∏–≥–∞—Ç—å —Ü–µ–ª–∏ –±—ã—Å—Ç—Ä–µ–µ.</div>
    <div style="font-size:1.08em; color:#222; margin-bottom:28px; text-align:justify;">–Ø ‚Äî –ê–ª–µ–∫—Å–µ–π –ë–æ—Ä–æ–¥—É–ª–∏–Ω, –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–Ω–µ—Ä, –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å –∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Å—Ç —Å 30-–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º. –ü—Ä–æ–≤–æ–∂—É –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —Ä–∞—Å—Ç–∏ –∏ –Ω–µ —Å–¥–∞–≤–∞—Ç—å—Å—è –¥–∞–∂–µ –≤ –∫—Ä–∏–∑–∏—Å.</div>
    <div class="section-title" style="margin-bottom:12px;">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é —É—Å–ª—É–≥—É:</div>
    <div class="services-cards" style="display:grid; grid-template-columns:1fr 1fr; gap:28px; margin-bottom:36px;">
        <!-- –ö–æ—É—á–∏–Ω–≥ -->
        <div class="service-card" style="background:#f4f8fd; border-radius:12px; padding:24px 20px; box-shadow:0 1px 6px rgba(0,0,0,0.04); display:flex; flex-direction:column; align-items:flex-start;">
            <div style="font-size:2em; margin-bottom:8px;">‚úÖ</div>
            <div class="service-title" style="font-weight:700; font-size:1.15em; margin-bottom:6px;">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –∫–æ—É—á–∏–Ω–≥</div>
            <div style="color:#222; font-size:1em; margin-bottom:10px; text-align:justify;">1:1 —Ä–∞–±–æ—Ç–∞ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–µ –∏ –ª–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —è—Å–Ω–æ—Å—Ç—å, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —Ä–µ—à–µ–Ω–∏—è.</div>
            <a href="/services/coaching/" class="btn-blue" style="margin-bottom:10px;">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
            {% if reviews_by_type.coaching %}
            <div class="service-review" style="background:#fff; border-radius:8px; padding:12px 14px; font-size:0.98em; color:#222; margin-top:8px; box-shadow:0 1px 4px rgba(0,0,0,0.03); width:100%; max-width:100%; box-sizing:border-box;">
                {% if reviews_by_type.coaching.image %}
                <img src="{{ reviews_by_type.coaching.image.url }}" alt="{{ reviews_by_type.coaching.author }}" style="width:48px; height:48px; object-fit:cover; border-radius:50%; float:left; margin-right:12px; margin-bottom:8px;">
                {% endif %}
                <div style="overflow:hidden; width:calc(100% - 60px); float:right;">
                    <span style="color:#183153; font-weight:600;">{{ reviews_by_type.coaching.author }}:</span>
                    <div style="position:relative;">
                        <div style="max-height:2.8em; overflow:hidden; line-height:1.4;">
                            ¬´{{ reviews_by_type.coaching.text|truncatechars:70 }}¬ª
                        </div>
                        <a href="/reviews/#review-{{ reviews_by_type.coaching.id }}" style="color:#2563eb; text-decoration:none; display:block; margin-top:4px;">–¥–∞–ª–µ–µ</a>
                    </div>
                </div>
                <div style="clear:both;"></div>
            </div>
            {% endif %}
        </div>
        <!-- –¢—Ä–µ–Ω–∏–Ω–≥–∏ -->
        <div class="service-card" style="background:#f4f8fd; border-radius:12px; padding:24px 20px; box-shadow:0 1px 6px rgba(0,0,0,0.04); display:flex; flex-direction:column; align-items:flex-start;">
            <div style="font-size:2em; margin-bottom:8px;">üë•</div>
            <div class="service-title" style="font-weight:700; font-size:1.15em; margin-bottom:6px;">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ç—Ä–µ–Ω–∏–Ω–≥–∏</div>
            <div style="color:#222; font-size:1em; margin-bottom:10px; text-align:justify;">–¢—Ä–µ–Ω–∏–Ω–≥–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥: –ø—Ä–æ –ª–∏–¥–µ—Ä—Å—Ç–≤–æ, –ø—Ä–æ–¥–∞–∂–∏, –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –°—Ü–µ–Ω–∞—Ä–∏–π ‚Äî –ø–æ–¥ –≤–∞—à–∏ –∑–∞–¥–∞—á–∏.</div>
            <a href="/services/training/" class="btn-blue" style="margin-bottom:10px;">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
            {% if reviews_by_type.training %}
            <div class="service-review" style="background:#fff; border-radius:8px; padding:12px 14px; font-size:0.98em; color:#222; margin-top:8px; box-shadow:0 1px 4px rgba(0,0,0,0.03); width:100%; max-width:100%; box-sizing:border-box;">
                {% if reviews_by_type.training.image %}
                <img src="{{ reviews_by_type.training.image.url }}" alt="{{ reviews_by_type.training.author }}" style="width:48px; height:48px; object-fit:cover; border-radius:50%; float:left; margin-right:12px; margin-bottom:8px;">
                {% endif %}
                <div style="overflow:hidden; width:calc(100% - 60px); float:right;">
                    <span style="color:#183153; font-weight:600;">{{ reviews_by_type.training.author }}:</span>
                    <div style="position:relative;">
                        <div style="max-height:2.8em; overflow:hidden; line-height:1.4;">
                            ¬´{{ reviews_by_type.training.text|truncatechars:70 }}¬ª
                        </div>
                        <a href="/reviews/#review-{{ reviews_by_type.training.id }}" style="color:#2563eb; text-decoration:none; display:block; margin-top:4px;">–¥–∞–ª–µ–µ</a>
                    </div>
                </div>
                <div style="clear:both;"></div>
            </div>
            {% endif %}
        </div>
        <!-- –ú–ö –∏ —Å–µ–º–∏–Ω–∞—Ä—ã -->
        <div class="service-card" style="background:#f4f8fd; border-radius:12px; padding:24px 20px; box-shadow:0 1px 6px rgba(0,0,0,0.04); display:flex; flex-direction:column; align-items:flex-start;">
            <div style="font-size:2em; margin-bottom:8px;">üé§</div>
            <div class="service-title" style="font-weight:700; font-size:1.15em; margin-bottom:6px;">–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã –∏ —Å–µ–º–∏–Ω–∞—Ä—ã</div>
            <div style="color:#222; font-size:1em; margin-bottom:10px; text-align:justify;">–û—Ç–∫—Ä—ã—Ç—ã–µ –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è. –ñ–∏–≤–æ–π —Ñ–æ—Ä–º–∞—Ç, –ø—Ä–∏–∫–ª–∞–¥–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —ç–Ω–µ—Ä–≥–∏—è.</div>
            <a href="/services/masterclass/" class="btn-blue" style="margin-bottom:10px;">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
            {% if reviews_by_type.masterclass %}
            <div class="service-review" style="background:#fff; border-radius:8px; padding:12px 14px; font-size:0.98em; color:#222; margin-top:8px; box-shadow:0 1px 4px rgba(0,0,0,0.03); width:100%; max-width:100%; box-sizing:border-box;">
                {% if reviews_by_type.masterclass.image %}
                <img src="{{ reviews_by_type.masterclass.image.url }}" alt="{{ reviews_by_type.masterclass.author }}" style="width:48px; height:48px; object-fit:cover; border-radius:50%; float:left; margin-right:12px; margin-bottom:8px;">
                {% endif %}
                <div style="overflow:hidden; width:calc(100% - 60px); float:right;">
                    <span style="color:#183153; font-weight:600;">{{ reviews_by_type.masterclass.author }}:</span>
                    <div style="position:relative;">
                        <div style="max-height:2.8em; overflow:hidden; line-height:1.4;">
                            ¬´{{ reviews_by_type.masterclass.text|truncatechars:70 }}¬ª
                        </div>
                        <a href="/reviews/#review-{{ reviews_by_type.masterclass.id }}" style="color:#2563eb; text-decoration:none; display:block; margin-top:4px;">–¥–∞–ª–µ–µ</a>
                    </div>
                </div>
                <div style="clear:both;"></div>
            </div>
            {% endif %}
        </div>
        <!-- –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ -->
        <div class="service-card" style="background:#f4f8fd; border-radius:12px; padding:24px 20px; box-shadow:0 1px 6px rgba(0,0,0,0.04); display:flex; flex-direction:column; align-items:flex-start;">
            <div style="font-size:2em; margin-bottom:8px;">üìà</div>
            <div class="service-title" style="font-weight:700; font-size:1.15em; margin-bottom:6px;">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π</div>
            <div style="color:#222; font-size:1em; margin-bottom:10px; text-align:justify;">–†–∞–∑–æ–≤—ã–µ –∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é, —Ñ–∏–Ω–∞–Ω—Å–∞–º –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º. –î–ª—è —Å—Ç–∞—Ä—Ç–∞ –∏ —Ä–æ—Å—Ç–∞.</div>
            <a href="/services/consulting/" class="btn-blue" style="margin-bottom:10px;">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
            {% if reviews_by_type.consulting %}
            <div class="service-review" style="background:#fff; border-radius:8px; padding:12px 14px; font-size:0.98em; color:#222; margin-top:8px; box-shadow:0 1px 4px rgba(0,0,0,0.03); width:100%; max-width:100%; box-sizing:border-box;">
                {% if reviews_by_type.consulting.image %}
                <img src="{{ reviews_by_type.consulting.image.url }}" alt="{{ reviews_by_type.consulting.author }}" style="width:48px; height:48px; object-fit:cover; border-radius:50%; float:left; margin-right:12px; margin-bottom:8px;">
                {% endif %}
                <div style="overflow:hidden; width:calc(100% - 60px); float:right;">
                    <span style="color:#183153; font-weight:600;">{{ reviews_by_type.consulting.author }}:</span>
                    <div style="position:relative;">
                        <div style="max-height:2.8em; overflow:hidden; line-height:1.4;">
                            ¬´{{ reviews_by_type.consulting.text|truncatechars:70 }}¬ª
                        </div>
                        <a href="/reviews/#review-{{ reviews_by_type.consulting.id }}" style="color:#2563eb; text-decoration:none; display:block; margin-top:4px;">–¥–∞–ª–µ–µ</a>
                    </div>
                </div>
                <div style="clear:both;"></div>
            </div>
            {% endif %}
        </div>
    </div>
    <div class="cta-block" style="background:#e3f1ff; border-radius:12px; padding:28px 24px; text-align:center; margin-bottom:32px;">
        <div style="font-size:1.18em; font-weight:600; color:#183153; margin-bottom:10px;">–ì–æ—Ç–æ–≤—ã –æ–±—Å—É–¥–∏—Ç—å –∑–∞–¥–∞—á—É –∏ –≤—ã–±—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã?</div>
        <div style="font-size:1.05em; color:#222; margin-bottom:18px;">–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É ‚Äî —è —Å–≤—è–∂—É—Å—å —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.</div>
        <button class="btn-red" onclick="document.getElementById('service-form').scrollIntoView({behavior:'smooth'});">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
    </div>
    <form id="service-form" method="post" style="background:#f7f9fb; border-radius:12px; padding:28px 24px; max-width:500px; margin:0 auto;">
        {% csrf_token %}
        <div style="font-size:1.2em; font-weight:600; margin-bottom:18px; color:#183153;">–ó–∞—è–≤–∫–∞ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –∏–ª–∏ —Ç—Ä–µ–Ω–∏–Ω–≥</div>
        <div style="margin-bottom:14px;">
            <label for="name">–ò–º—è*:</label><br>
            <input type="text" id="name" name="name" required placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ccc;">
            <div id="name-error" class="form-error"></div>
        </div>
        <div style="margin-bottom:14px;">
            <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω*:</label><br>
            <input type="tel" id="phone" name="phone" required placeholder="+7 XXX XXX-XX-XX" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ccc;">
            <div id="phone-error" class="form-error"></div>
        </div>
        <div style="margin-bottom:14px;">
            <label for="company">–ö–æ–º–ø–∞–Ω–∏—è:</label><br>
            <input type="text" id="company" name="company" placeholder="–û–û–û &quot;–ú–æ–π –±–∏–∑–Ω–µ—Å&quot;" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ccc;">
            <div id="company-error" class="form-error"></div>
        </div>
        <div style="margin-bottom:18px;">
            <label for="service">–ò–Ω—Ç–µ—Ä–µ—Å—É—é—â–∞—è —É—Å–ª—É–≥–∞:</label><br>
            <select id="service" name="service" style="width:100%; padding:8px; border-radius:6px; border:1px solid #ccc;">
                <option value="">–ù–µ –≤—ã–±—Ä–∞–Ω–æ</option>
                <option value="coaching">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –∫–æ—É—á–∏–Ω–≥</option>
                <option value="training">–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ç—Ä–µ–Ω–∏–Ω–≥–∏</option>
                <option value="masterclass">–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã –∏ —Å–µ–º–∏–Ω–∞—Ä—ã</option>
                <option value="consulting">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π</option>
            </select>
            <div id="service-error" class="form-error"></div>
        </div>
        <div style="margin-bottom:18px;">
            <div class="g-recaptcha" data-sitekey="6LdcBi8rAAAAAEWSZaB_4KlJs5D5CWXWU5ItS0B3"></div>
            <div id="captcha-error" style="color:#d00; font-size:0.98em; display:none; margin-top:6px;">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç.</div>
        </div>
        <button type="submit" class="btn-blue" style="width:100%; font-size:1.1em;">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
    </form>
</div>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
<div id="success-modal" style="display:none; position:fixed; z-index:9999; left:0; top:0; width:100vw; height:100vh; background:rgba(0,0,0,0.35); align-items:center; justify-content:center;">
  <div style="background:#fff; border-radius:14px; max-width:340px; margin:auto; padding:32px 18px 22px 18px; box-shadow:0 4px 32px rgba(0,0,0,0.13); text-align:center; position:relative;">
    <img src="{% static 'core/img/hero/hero.png' %}" alt="–ê–ª–µ–∫—Å–µ–π –ë–æ—Ä–æ–¥—É–ª–∏–Ω" style="width:84px; height:84px; object-fit:cover; border-radius:50%; margin-bottom:16px; border:3px solid #2563eb;">
    <div style="font-size:1.15em; font-weight:600; color:#183153; margin-bottom:8px;">–°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –∑–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞.</div>
    <div style="font-size:1em; color:#222; margin-bottom:16px;">–Ø —Å–≤—è–∂—É—Å—å —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</div>
    <button onclick="closeSuccessModal()" style="background:#2563eb; color:#fff; border:none; border-radius:6px; padding:8px 22px; font-size:1em; cursor:pointer;">–ó–∞–∫—Ä—ã—Ç—å</button>
  </div>
</div>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script>
function showError(id, msg) {
    const el = document.getElementById(id);
    el.textContent = msg;
    el.style.display = 'block';
}
function hideError(id) {
    const el = document.getElementById(id);
    el.style.display = 'none';
}
// –ú–∞—Å–∫–∞ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞: +7 XXX XXX-XX-XX, —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã, –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
const phoneInput = document.getElementById('phone');
phoneInput.addEventListener('input', function(e) {
    let val = phoneInput.value.replace(/\D/g, '');
    if (val.startsWith('8')) val = '7' + val.slice(1);
    if (!val.startsWith('7')) val = '7' + val;
    let formatted = '+7';
    if (val.length > 1) formatted += ' ' + val.slice(1, 4);
    if (val.length > 4) formatted += ' ' + val.slice(4, 7);
    if (val.length > 7) formatted += '-' + val.slice(7, 9);
    if (val.length > 9) formatted += '-' + val.slice(9, 11);
    phoneInput.value = formatted.trim();
});
document.getElementById('service-form').onsubmit = async function(e) {
    e.preventDefault();
    const form = e.target;
    let valid = true;
    // –ò–º—è: —Ç–æ–ª—å–∫–æ –∫–∏—Ä–∏–ª–ª–∏—Ü–∞, –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è
    const name = form.name.value.trim();
    if (!/^([–ê-–Ø–Å][–∞-—è—ë]+)(\s[–ê-–Ø–Å][–∞-—è—ë]+)*$/.test(name)) {
        showError('name-error', '–ò–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü–µ –∏ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã.');
        valid = false;
    } else {
        hideError('name-error');
    }
    // –¢–µ–ª–µ—Ñ–æ–Ω: —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã, —Ñ–æ—Ä–º–∞—Ç +7 XXX XXX-XX-XX
    const phone = form.phone.value.trim();
    if (!/^\+7 \d{3} \d{3}-\d{2}-\d{2}$/.test(phone)) {
        showError('phone-error', '–¢–µ–ª–µ—Ñ–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ +7 XXX XXX-XX-XX.');
        valid = false;
    } else {
        hideError('phone-error');
    }
    // –ö–æ–º–ø–∞–Ω–∏—è: —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –ø–µ—Ä–≤–æ–≥–æ —Å–ª–æ–≤–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è –∫–∏—Ä–∏–ª–ª–∏—Ü–∞
    const company = form.company.value.trim();
    if (company && !/^[–ê-–Ø–Å][–∞-—è—ë]+.*$/.test(company)) {
        showError('company-error', '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–æ–π –±—É–∫–≤—ã.');
        valid = false;
    } else {
        hideError('company-error');
    }
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–±–æ—Ä–∞ —É—Å–ª—É–≥–∏
    const service = form.service.value.trim();
    if (!service) {
        showError('service-error', '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É.');
        valid = false;
    } else {
        hideError('service-error');
    }
    // reCAPTCHA
    const captcha = grecaptcha.getResponse();
    if (!captcha) {
        document.getElementById('captcha-error').style.display = 'block';
        valid = false;
    } else {
        document.getElementById('captcha-error').style.display = 'none';
    }
    if (!valid) return;
    const data = new FormData(form);
    data.append('g-recaptcha-response', captcha);
    const response = await fetch(window.location.pathname, {
        method: 'POST',
        body: data,
        headers: { 'X-Requested-With': 'XMLHttpRequest' }
    });
    if (response.ok) {
        form.reset();
        grecaptcha.reset();
        showSuccessModal();
    }
};
function showSuccessModal() {
    document.getElementById('success-modal').style.display = 'flex';
}
function closeSuccessModal() {
    document.getElementById('success-modal').style.display = 'none';
}
</script>
<style>
@media (max-width: 900px) {
    .services-cards { grid-template-columns:1fr; gap:18px; }
    .service-card { padding:18px 10px; }
}
.form-error { color: #d00; font-size: 0.98em; display: none; margin-top: 4px; }
input::placeholder {
    color: #888;
    opacity: 1;
}
@media (max-width: 600px) {
    .container { padding: 8px 0; }
    .services-cards {
        display: flex !important;
        flex-direction: column !important;
        gap: 12px !important;
        width: 100% !important;
    }
    .service-card {
        padding: 12px 6px;
        border-radius: 8px;
        font-size: 0.98em;
        min-width: 0 !important;
        max-width: 100% !important;
        width: 100% !important;
        box-sizing: border-box;
        margin: 0 auto;
    }
    .service-title {
        font-size: 1em;
        margin-bottom: 6px;
    }
    .service-card > div[style*='font-size:2em'] {
        font-size: 1.4em !important;
        margin-bottom: 4px !important;
    }
    .service-review {
        padding: 8px 6px;
        font-size: 0.95em;
    }
    .service-review img {
        width: 36px !important;
        height: 36px !important;
        margin-right: 8px !important;
        margin-bottom: 4px !important;
    }
    .service-review span {
        font-size: 0.98em;
    }
    .btn-blue, .btn-red {
        font-size: 1em !important;
        padding: 8px 18px !important;
        border-radius: 6px !important;
    }
    .cta-block {
        padding: 16px 6px;
        font-size: 0.98em;
    }
    #service-form {
        padding: 14px 6px;
        max-width: 100%;
    }
    #success-modal > div {
        max-width: 90vw;
        padding: 18px 6px 12px 6px;
    }
}
.service-title {
    text-align: center;
    width: 100%;
    display: block;
    margin-bottom: 8px;
}
</style>
{% endblock %} 