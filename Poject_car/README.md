# Определение стоимости автомобилей 
Сервис по продаже автомобилей с пробегом «Не бит, не крашен» разрабатывает приложение для привлечения новых клиентов. В нём можно быстро узнать рыночную стоимость своего автомобиля. Вам нужно построить модель для определения стоимости. 

---

**КОНТЕКСТ ИССЛЕДОВАНИЯ:** исторические данные: технические характеристики, комплектации и цены автомобилей.

---

**ЦЕЛЬ ИССЛЕДОВАНИЯ:** построить модель для определения рыночной стоимости автомобиля

---

**КРИТЕРИИ УСПЕХА И ПРИМЕЧАНИЯ:**

- качество предсказания;
- скорость предсказания;
- время обучения
- для оценки качества моделей применяйте метрику *RMSE*.
- начение метрики RMSE должно быть *меньше 2500*.

---

**Описание данных для первого исследования:**

- *Данные:*  `/datasets/autos.csv` 

*Признаки:*
- `DateCrawled` — дата скачивания анкеты из базы
- `VehicleType` — тип автомобильного кузова
- `RegistrationYear` — год регистрации автомобиля
- `Gearbox` — тип коробки передач
- `Power` — мощность (л. с.)
- `Model` — модель автомобиля
- `Kilometer` — пробег (км)
- `RegistrationMonth` — месяц регистрации автомобиля
- `FuelType` — тип топлива
- `Brand` — марка автомобиля
- `Repaired` — была машина в ремонте или нет
- `DateCreated` — дата создания анкеты
- `NumberOfPictures` — количество фотографий автомобиля
- `PostalCode` — почтовый индекс владельца анкеты (пользователя)
- `LastSeen` — дата последней активности пользователя

*Целевой признак:*
- `Price` — цена (евро)

---

**1. Предобработка данных**
- Пропуски в категориальных признаках (`VehicleType`, `FuelType`, `Repaired`, `Gearbox`, `Model`) были заполнены наиболее частыми значениями.
- Аномалии: удалены строки с `Price = 0`, `Power = 0`, `RegistrationYear = 1000`.
- Изменены типы данных на `datetime64` для столбцов: `DateCrawled`, `DateCreated`, `LastSeen`.

**2. Исследовательский анализ**
- **Корреляция**: `Power`, `RegistrationYear`, `Kilometer` сильно коррелируют с ценой.
- **Рекомендации**: 
  - Удалить: `NumberOfPictures`, `LastSeen`, `PostalCode`.
  - Применить логарифмирование для признаков с сильной асимметрией (`Price`, `Power`, `Kilometer`).
  - Обработать выбросы в `Price` и `Power`.

**3. Модели и оценка**
- Использованные модели: 
  - **RandomForestRegressor**
  - **LGBMRegressor** (лучший результат)
  - **LogisticRegression**
- **Результаты**:
  - **LGBMRegressor**: RMSE = 1 744, время обучения = 30,6 с, время предсказания = 0.69 с.
  - **RandomForestRegressor** и **LogisticRegression** показали худшие результаты по RMSE.

	Лучшие гиперпараметры	Лучшая метрика RMSE	Общее время выполнения (сек.)	Время обучения модели (сек.)	Время предсказаний (сек.)


**4. Важность признаков**
- **Влиятельные признаки**: `RegistrationYear`, `Power`, `Kilometer`, `FuelType`, `VehicleType`.
- **Менее значимые**: `PostalCode`, `LastSeen`.

**5. Рекомендации**
- Преобразовать категориальные признаки с помощью one-hot или label encoding.
- Использовать SMOTE для увеличения данных для редких категорий.
- Удалить нерелевантные признаки: `Model`, `Brand`, `PostalCode`, `LastSeen`.

**6. Итоги**
- Модель **LGBMRegressor** с RMSE < 2500 — оптимальный выбор.
- Проект выполнен успешно, модель готова для использования в приложении.

